# Sistema de Qualifica√ß√£o e Sugest√£o de Auditores

## üìã Planejamento T√©cnico Completo

**Objetivo:** Implementar sistema que sugira automaticamente auditores qualificados baseado na classifica√ß√£o industrial da empresa e nas forma√ß√µes/compet√™ncias dos auditores.

**Base:** An√°lise da planilha `classifica_auditor.xlsx` - Ver [AUDITOR-QUALIFICATION-MAPPING.md](../ANALYSIS/AUDITOR-QUALIFICATION-MAPPING.md)

---

## üóÑÔ∏è PARTE 1: Modelo de Dados

### 1.1. Nova Tabela: `AcademicQualification` (Forma√ß√µes Acad√™micas)

```prisma
enum AcademicDegree {
  agronomia
  alimentos
  veterinaria
  zootecnia
  quimica
  farmacia
  engenharia
  administracao
  economia
  cosmeticos
  outras
}

enum DegreeLevel {
  tecnico       // T√©cnico
  graduacao     // Gradua√ß√£o/Bacharelado
  especializacao // Especializa√ß√£o
  mestrado      // Mestrado
  doutorado     // Doutorado
}

model AcademicQualification {
  id          String       @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  userId      String       @map("user_id") @db.Uuid

  // Dados da Forma√ß√£o
  degree      AcademicDegree
  degreeLevel DegreeLevel  @map("degree_level")
  institution String       @db.VarChar(255) // Nome da institui√ß√£o
  country     Country      @default(BR)
  courseName  String?      @map("course_name") @db.VarChar(255) // Nome espec√≠fico do curso

  // Datas
  startDate   DateTime?    @map("start_date")
  endDate     DateTime?    @map("end_date")

  // Valida√ß√£o Especial (para Farm√°cia)
  hasFoodSubjects Boolean   @default(false) @map("has_food_subjects") // Se tem mat√©rias de alimentos na grade

  // Documenta√ß√£o
  documentUrl String?      @map("document_url") @db.Text // URL do diploma/certificado
  verified    Boolean      @default(false) // Se foi verificado pelo admin
  verifiedAt  DateTime?    @map("verified_at")
  verifiedBy  String?      @map("verified_by") @db.Uuid

  // Observa√ß√µes
  notes       String?      @db.Text

  createdAt   DateTime     @default(now()) @map("created_at")
  updatedAt   DateTime     @updatedAt @map("updated_at")

  // Rela√ß√µes
  user          User  @relation("UserQualifications", fields: [userId], references: [id], onDelete: Cascade)
  verifier      User? @relation("QualificationVerifier", fields: [verifiedBy], references: [id])

  @@index([userId])
  @@index([degree])
  @@index([verified])
  @@map("academic_qualifications")
}
```

### 1.2. Nova Tabela: `AuditorCategoryQualification` (Compet√™ncias por Categoria)

Tabela intermedi√°ria que mapeia quais categorias cada auditor pode auditar baseado em suas forma√ß√µes.

```prisma
enum CertificationStandard {
  GSO_2055_2  // Padr√£o GSO 2055-2
  SMIIC_2     // Padr√£o SMIIC 2
}

model AuditorCategoryQualification {
  id         String                 @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  userId     String                 @map("user_id") @db.Uuid
  categoryId String                 @map("category_id") @db.Uuid

  // Padr√£o de Certifica√ß√£o
  standard   CertificationStandard  @default(GSO_2055_2)

  // Origem da Qualifica√ß√£o
  source     String                 @db.VarChar(50) // 'academic' | 'experience' | 'training' | 'manual'

  // Se foi gerado automaticamente ou adicionado manualmente
  autoGenerated Boolean             @default(true) @map("auto_generated")

  // Justificativa (se manual)
  justification String?             @db.Text

  // Status
  active     Boolean                @default(true)
  approvedBy String?                @map("approved_by") @db.Uuid
  approvedAt DateTime?              @map("approved_at")

  createdAt  DateTime               @default(now()) @map("created_at")
  updatedAt  DateTime               @updatedAt @map("updated_at")

  // Rela√ß√µes
  user     User               @relation("AuditorQualifications", fields: [userId], references: [id], onDelete: Cascade)
  category IndustrialCategory @relation(fields: [categoryId], references: [id])
  approver User?              @relation("QualificationApprover", fields: [approvedBy], references: [id])

  @@unique([userId, categoryId, standard])
  @@index([userId])
  @@index([categoryId])
  @@index([active])
  @@map("auditor_category_qualifications")
}
```

### 1.3. Nova Tabela: `AuditorExperience` (Experi√™ncia do Auditor)

```prisma
model AuditorExperience {
  id          String   @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  userId      String   @map("user_id") @db.Uuid
  categoryId  String   @map("category_id") @db.Uuid

  // Estat√≠sticas
  totalAudits Int      @default(0) @map("total_audits") // Total de auditorias nesta categoria
  lastAuditAt DateTime? @map("last_audit_at")

  // Score baseado em desempenho
  score       Float    @default(0) @db.DoublePrecision // 0-100

  updatedAt   DateTime @updatedAt @map("updated_at")

  // Rela√ß√µes
  user     User               @relation("AuditorExperiences", fields: [userId], references: [id], onDelete: Cascade)
  category IndustrialCategory @relation(fields: [categoryId], references: [id])

  @@unique([userId, categoryId])
  @@index([userId])
  @@index([categoryId])
  @@index([score])
  @@map("auditor_experiences")
}
```

### 1.4. Atualizar Model `User`

```prisma
model User {
  // ... campos existentes ...

  // Novas rela√ß√µes
  qualifications         AcademicQualification[]         @relation("UserQualifications")
  verifiedQualifications AcademicQualification[]         @relation("QualificationVerifier")
  categoryQualifications AuditorCategoryQualification[]  @relation("AuditorQualifications")
  approvedQualifications AuditorCategoryQualification[]  @relation("QualificationApprover")
  experiences            AuditorExperience[]             @relation("AuditorExperiences")
}
```

### 1.5. Atualizar Model `IndustrialCategory`

```prisma
model IndustrialCategory {
  // ... campos existentes ...

  // Novas rela√ß√µes
  qualifiedAuditors AuditorCategoryQualification[]
  auditorExperiences AuditorExperience[]
}
```

---

## üîÑ PARTE 2: L√≥gica de Neg√≥cio

### 2.1. Seed de Mapeamento Forma√ß√£o ‚Üí Categoria

```typescript
// backend/prisma/seeds/seed-auditor-qualifications-mapping.ts

const QUALIFICATION_MAPPING = {
  agronomia: {
    gso: ['AI', 'AII', 'BI', 'BII', 'CI', 'CII', 'CIII', 'CIV', 'CV', 'DI', 'DII', 'E', 'FI', 'FII', 'GI', 'GII', 'HI', 'HIII', 'I', 'K'],
    smiic: ['AI', 'AII', 'BI', 'BII', 'CI', 'CII', 'CIII', 'CIV', 'DI', 'DII', 'E', 'FI', 'FII', 'GI', 'GII', 'HI', 'HIII', 'I', 'K', 'LIII']
  },
  alimentos: {
    gso: ['AI', 'AII', 'BI', 'BII', 'CI', 'CII', 'CIII', 'CIV', 'CV', 'DI', 'DII', 'E', 'FI', 'FII', 'GI', 'GII', 'HI', 'HIII', 'I', 'K'],
    smiic: ['AI', 'AII', 'BI', 'BII', 'CI', 'CII', 'CIII', 'CIV', 'DI', 'DII', 'E', 'FI', 'FII', 'GI', 'GII', 'HI', 'HIII', 'I', 'K', 'LIII']
  },
  veterinaria: {
    gso: ['AI', 'AII', 'BI', 'BII', 'CI', 'CII', 'CIII', 'CIV', 'CV', 'DI', 'DII', 'E', 'FI', 'FII', 'GI', 'GII', 'HI', 'HIII', 'I', 'K'],
    smiic: ['AI', 'AII', 'BI', 'BII', 'CI', 'CII', 'CIII', 'CIV', 'DI', 'DII', 'E', 'FI', 'FII', 'GI', 'GII', 'HI', 'HIII', 'I', 'K', 'LIII']
  },
  zootecnia: {
    gso: ['AI', 'AII', 'BI', 'BII', 'CI', 'CII', 'CIII', 'CIV', 'CV', 'DI', 'DII', 'E', 'FI', 'FII', 'GI', 'GII', 'HI', 'HIII', 'I', 'K'],
    smiic: ['AI', 'AII', 'BI', 'BII', 'CI', 'CII', 'CIII', 'CIV', 'DI', 'DII', 'E', 'FI', 'FII', 'GI', 'GII', 'HI', 'HIII', 'I', 'K', 'LIII']
  },
  quimica: {
    gso: ['CI', 'CII', 'CIII', 'CIV', 'CV', 'DI', 'DII', 'FI', 'FII', 'GI', 'GII', 'I', 'K'],
    smiic: ['CI', 'CII', 'CIII', 'CIV', 'DI', 'DII', 'E', 'FI', 'FII', 'GI', 'GII', 'HI', 'HIII', 'I', 'K', 'LI']
  },
  farmacia: {
    gso: ['CI', 'CII', 'CIII', 'CIV', 'DI', 'DII', 'E', 'FI', 'FII', 'GI', 'GII', 'HI', 'HIII', 'I', 'K'],
    smiic: ['CI', 'CII', 'CIII', 'CIV', 'DI', 'DII', 'E', 'FI', 'FII', 'GI', 'GII', 'HI', 'HIII', 'I', 'K', 'LI'],
    requires: 'hasFoodSubjects'
  },
  engenharia: {
    gso: ['J'],
    smiic: ['J', 'LII']
  },
  administracao: {
    gso: ['HII'],
    smiic: ['HII']
  },
  economia: {
    gso: ['HII'],
    smiic: ['HII']
  },
  cosmeticos: {
    gso: [],
    smiic: ['LI']
  }
};
```

### 2.2. Servi√ßo de Qualifica√ß√£o

```typescript
// backend/src/modules/auditor-qualification/auditor-qualification.service.ts

export class AuditorQualificationService {

  /**
   * Gera automaticamente qualifica√ß√µes baseadas nas forma√ß√µes do auditor
   */
  async generateQualificationsFromAcademics(userId: string) {
    const qualifications = await prisma.academicQualification.findMany({
      where: { userId, verified: true }
    });

    const standard = 'GSO_2055_2'; // ou obter do config

    for (const qual of qualifications) {
      // Buscar categorias permitidas para esta forma√ß√£o
      const allowedCategories = QUALIFICATION_MAPPING[qual.degree]?.[standard.toLowerCase()];

      if (!allowedCategories) continue;

      // Valida√ß√µes especiais (ex: Farm√°cia com mat√©rias de alimentos)
      if (qual.degree === 'farmacia' && !qual.hasFoodSubjects) {
        continue;
      }

      // Buscar IDs das categorias
      const categories = await prisma.industrialCategory.findMany({
        where: { code: { in: allowedCategories } }
      });

      // Criar registros de qualifica√ß√£o
      for (const category of categories) {
        await prisma.auditorCategoryQualification.upsert({
          where: {
            userId_categoryId_standard: {
              userId,
              categoryId: category.id,
              standard
            }
          },
          create: {
            userId,
            categoryId: category.id,
            standard,
            source: 'academic',
            autoGenerated: true,
            active: true
          },
          update: {}
        });
      }
    }
  }

  /**
   * Sugere auditores para uma categoria espec√≠fica
   */
  async suggestAuditorsForCategory(
    categoryId: string,
    options?: {
      limit?: number;
      excludeIds?: string[];
    }
  ) {
    const { limit = 10, excludeIds = [] } = options || {};

    // Buscar auditores qualificados
    const qualifications = await prisma.auditorCategoryQualification.findMany({
      where: {
        categoryId,
        active: true,
        userId: { notIn: excludeIds }
      },
      include: {
        user: {
          select: {
            id: true,
            name: true,
            email: true,
            phone: true
          }
        }
      }
    });

    // Buscar experi√™ncias
    const experiences = await prisma.auditorExperience.findMany({
      where: {
        categoryId,
        userId: { in: qualifications.map(q => q.userId) }
      }
    });

    // Buscar carga atual de trabalho
    const currentWorkload = await prisma.process.groupBy({
      by: ['auditorId'],
      where: {
        auditorId: { in: qualifications.map(q => q.userId) },
        status: { in: ['em_andamento', 'aguardando_auditoria', 'em_auditoria'] }
      },
      _count: true
    });

    // Calcular score para cada auditor
    const auditorsWithScore = qualifications.map(qual => {
      const exp = experiences.find(e => e.userId === qual.userId);
      const workload = currentWorkload.find(w => w.auditorId === qual.userId)?._count || 0;

      // Score:
      // - 40 pontos: experi√™ncia (0-40 baseado em score de desempenho)
      // - 30 pontos: n√∫mero de auditorias (0-30, max em 50 auditorias)
      // - 30 pontos: disponibilidade (30 - workload*3, m√≠n 0)

      const experienceScore = exp ? (exp.score * 0.4) : 0;
      const auditCountScore = exp ? Math.min(30, (exp.totalAudits / 50) * 30) : 0;
      const availabilityScore = Math.max(0, 30 - (workload * 3));

      const totalScore = experienceScore + auditCountScore + availabilityScore;

      return {
        auditor: qual.user,
        qualification: {
          source: qual.source,
          autoGenerated: qual.autoGenerated
        },
        experience: exp ? {
          totalAudits: exp.totalAudits,
          lastAuditAt: exp.lastAuditAt,
          performanceScore: exp.score
        } : null,
        currentWorkload: workload,
        score: Math.round(totalScore),
        isRecommended: totalScore >= 60
      };
    });

    // Ordenar por score (maior primeiro)
    auditorsWithScore.sort((a, b) => b.score - a.score);

    return auditorsWithScore.slice(0, limit);
  }

  /**
   * Valida se auditor pode ser atribu√≠do a um processo
   */
  async validateAuditorAssignment(userId: string, processId: string) {
    const process = await prisma.process.findUnique({
      where: { id: processId },
      include: {
        request: {
          include: {
            industrialCategory: true
          }
        }
      }
    });

    if (!process?.request?.industrialCategoryId) {
      throw new Error('Processo sem categoria industrial definida');
    }

    const isQualified = await prisma.auditorCategoryQualification.findFirst({
      where: {
        userId,
        categoryId: process.request.industrialCategoryId,
        active: true
      }
    });

    return {
      isQualified: !!isQualified,
      categoryCode: process.request.industrialCategory?.code,
      categoryName: process.request.industrialCategory?.name,
      qualification: isQualified || null
    };
  }
}
```

---

## üåê PARTE 3: APIs

### 3.1. Endpoints de Forma√ß√µes Acad√™micas

```typescript
// POST /api/auditor/qualifications
// Cadastrar nova forma√ß√£o acad√™mica
{
  degree: 'agronomia',
  degreeLevel: 'graduacao',
  institution: 'USP',
  country: 'BR',
  courseName: 'Engenharia Agron√¥mica',
  startDate: '2015-01-01',
  endDate: '2019-12-15',
  hasFoodSubjects: false,
  documentUrl: 'https://...'
}

// GET /api/auditor/qualifications
// Listar forma√ß√µes do auditor autenticado

// GET /api/admin/auditor/:id/qualifications
// Admin: listar forma√ß√µes de um auditor

// PATCH /api/admin/auditor/qualifications/:id/verify
// Admin: verificar forma√ß√£o acad√™mica
{
  verified: true,
  notes: 'Documento v√°lido'
}
```

### 3.2. Endpoints de Compet√™ncias por Categoria

```typescript
// GET /api/auditor/categories
// Listar categorias que o auditor pode auditar

// POST /api/auditor/categories/regenerate
// Regenerar qualifica√ß√µes baseadas nas forma√ß√µes acad√™micas

// POST /api/admin/auditor/:id/categories
// Admin: adicionar compet√™ncia manual
{
  categoryId: 'uuid',
  standard: 'GSO_2055_2',
  source: 'training',
  justification: 'Completou treinamento espec√≠fico'
}

// DELETE /api/admin/auditor/:id/categories/:qualificationId
// Admin: remover compet√™ncia
```

### 3.3. Endpoints de Sugest√£o de Auditores

```typescript
// POST /api/process/:id/suggest-auditors
// Sugerir auditores para um processo
Response: [
  {
    auditor: { id, name, email, phone },
    qualification: { source, autoGenerated },
    experience: { totalAudits, lastAuditAt, performanceScore },
    currentWorkload: 3,
    score: 85,
    isRecommended: true
  },
  ...
]

// POST /api/process/:id/validate-auditor
// Validar se auditor pode ser atribu√≠do
{
  auditorId: 'uuid'
}
Response: {
  isQualified: true,
  categoryCode: 'CI',
  categoryName: 'Processamento de produtos de origem animal perec√≠vel',
  qualification: { ... }
}
```

---

## üé® PARTE 4: Interfaces

### 4.1. Tela de Cadastro de Forma√ß√µes (Auditor)

**Rota:** `/auditor/qualifications`

**Componentes:**
- Lista de forma√ß√µes cadastradas
- Bot√£o "Adicionar Forma√ß√£o"
- Modal/Form com campos:
  - Forma√ß√£o (select)
  - N√≠vel (select)
  - Institui√ß√£o (text)
  - Pa√≠s (select)
  - Nome do Curso (text)
  - Data In√≠cio/Fim (date)
  - Checkbox "Tem mat√©rias de alimentos?" (se Farm√°cia)
  - Upload de diploma/certificado
- Status de verifica√ß√£o (pendente/aprovado)
- Bot√£o "Regenerar Compet√™ncias" (atualiza categorias permitidas)

### 4.2. Tela de Categorias Permitidas (Auditor)

**Rota:** `/auditor/my-categories`

**Componentes:**
- Lista de categorias que pode auditar
- Filtros: Grupo, Padr√£o (GSO/SMIIC)
- Card por categoria mostrando:
  - C√≥digo e nome
  - Grupo
  - Origem da compet√™ncia (academic/experience/training)
  - N√∫mero de auditorias realizadas
  - Score de desempenho
- Badge indicando categorias mais experientes

### 4.3. Modal de Sugest√£o de Auditores (Gestor)

**Contexto:** Ao atribuir auditor em um processo

**Componentes:**
- Categoria industrial do processo (readonly)
- Lista de auditores sugeridos, ordenados por score
- Card por auditor:
  - Nome, email, foto
  - Score visual (barra de progresso)
  - Badge "Recomendado" se score >= 60
  - Compet√™ncias (source)
  - Experi√™ncia: X auditorias, √∫ltima em DD/MM/YYYY
  - Carga atual: X processos ativos
  - Bot√£o "Atribuir"
- Op√ß√£o "Ver todos os auditores" (lista completa, mesmo n√£o qualificados)
- Aviso se tentar atribuir n√£o qualificado

### 4.4. Dashboard de Compet√™ncias (Admin)

**Rota:** `/admin/auditors/qualifications`

**Componentes:**
- Cards com estat√≠sticas:
  - Total de auditores
  - Total de forma√ß√µes cadastradas
  - Forma√ß√µes pendentes de verifica√ß√£o
  - Cobertura por categoria (% categorias com pelo menos 1 auditor)
- Tabela de auditores com:
  - Nome
  - Forma√ß√µes (badges)
  - Categorias permitidas (count)
  - Forma√ß√µes n√£o verificadas (count)
  - A√ß√µes: Ver detalhes, Verificar
- Filtros: Forma√ß√£o, Categoria, Status de verifica√ß√£o

---

## üìä PARTE 5: M√©tricas e Dashboards

### 5.1. M√©tricas de Cobertura

```typescript
// Quantos auditores dispon√≠veis por categoria
interface CategoryCoverage {
  categoryCode: string;
  categoryName: string;
  totalAuditors: number;
  qualifiedAuditors: number;
  averageExperience: number;
  averageWorkload: number;
}

// Categorias cr√≠ticas (< 2 auditores qualificados)
interface CriticalCategory {
  categoryCode: string;
  categoryName: string;
  qualifiedAuditors: number;
  pendingProcesses: number;
}
```

### 5.2. M√©tricas de Auditor

```typescript
interface AuditorMetrics {
  auditorId: string;
  auditorName: string;
  totalQualifications: number;
  totalAudits: number;
  categoriesExperienced: number;
  averageScore: number;
  currentWorkload: number;
  capacityUtilization: number; // 0-100%
}
```

---

## üöÄ PARTE 6: Plano de Implementa√ß√£o

### Sprint 1: Modelo de Dados e Seeds (5 dias)

**Dia 1-2: Schema e Migrations**
- [ ] Criar enums (AcademicDegree, DegreeLevel, CertificationStandard)
- [ ] Criar model AcademicQualification
- [ ] Criar model AuditorCategoryQualification
- [ ] Criar model AuditorExperience
- [ ] Atualizar models User e IndustrialCategory
- [ ] Gerar migration
- [ ] Testar migration

**Dia 3-4: Seeds**
- [ ] Criar seed-auditor-qualifications-mapping.ts
- [ ] Popular mapeamento forma√ß√£o ‚Üí categorias
- [ ] Criar script para popular forma√ß√µes de teste
- [ ] Testar regenera√ß√£o de qualifica√ß√µes

**Dia 5: Valida√ß√£o**
- [ ] Revisar schema com time
- [ ] Documentar decis√µes t√©cnicas
- [ ] Preparar para pr√≥ximo sprint

---

### Sprint 2: Backend - Servi√ßos e APIs (7 dias)

**Dia 1-2: Servi√ßo de Qualifica√ß√£o**
- [ ] Criar auditor-qualification.service.ts
- [ ] Implementar generateQualificationsFromAcademics()
- [ ] Implementar validateAuditorAssignment()
- [ ] Testes unit√°rios

**Dia 3-4: Servi√ßo de Sugest√£o**
- [ ] Implementar suggestAuditorsForCategory()
- [ ] Implementar c√°lculo de score
- [ ] Implementar l√≥gica de ranking
- [ ] Testes unit√°rios

**Dia 5-6: Controllers e Routes**
- [ ] Criar auditor-qualification.controller.ts
- [ ] Implementar endpoints de forma√ß√µes
- [ ] Implementar endpoints de compet√™ncias
- [ ] Implementar endpoints de sugest√£o
- [ ] Valida√ß√µes com Zod

**Dia 7: Testes e Documenta√ß√£o**
- [ ] Testes de integra√ß√£o
- [ ] Documentar APIs no Swagger
- [ ] Revisar seguran√ßa e permiss√µes

---

### Sprint 3: Frontend - Interfaces (7 dias)

**Dia 1-2: Tela de Cadastro de Forma√ß√µes**
- [ ] Criar p√°gina /auditor/qualifications
- [ ] Componente QualificationsList
- [ ] Componente AddQualificationModal
- [ ] Upload de documentos
- [ ] Integra√ß√£o com APIs

**Dia 3-4: Tela de Categorias Permitidas**
- [ ] Criar p√°gina /auditor/my-categories
- [ ] Componente CategoriesList
- [ ] Filtros e busca
- [ ] Badges de status
- [ ] Integra√ß√£o com APIs

**Dia 5-6: Modal de Sugest√£o de Auditores**
- [ ] Componente SuggestAuditorsModal
- [ ] Lista de auditores ranqueados
- [ ] Cards de auditor com m√©tricas
- [ ] L√≥gica de atribui√ß√£o
- [ ] Valida√ß√µes

**Dia 7: Dashboard Admin**
- [ ] Criar p√°gina /admin/auditors/qualifications
- [ ] Cards de estat√≠sticas
- [ ] Tabela de auditores
- [ ] A√ß√µes de verifica√ß√£o

---

### Sprint 4: Integra√ß√£o e Melhorias (5 dias)

**Dia 1-2: Integra√ß√£o com Fluxo Existente**
- [ ] Integrar sugest√£o no fluxo de cria√ß√£o de processo
- [ ] Integrar valida√ß√£o no fluxo de atribui√ß√£o
- [ ] Atualizar experi√™ncia ap√≥s auditoria conclu√≠da

**Dia 3: Notifica√ß√µes**
- [ ] Notificar auditor quando forma√ß√£o √© verificada
- [ ] Notificar admin quando nova forma√ß√£o √© cadastrada
- [ ] Alertar quando categoria tem poucos auditores

**Dia 4: Testes End-to-End**
- [ ] Fluxo completo: cadastro ‚Üí verifica√ß√£o ‚Üí sugest√£o ‚Üí atribui√ß√£o
- [ ] Testar valida√ß√µes
- [ ] Testar c√°lculo de scores

**Dia 5: Documenta√ß√£o e Deploy**
- [ ] Documenta√ß√£o de usu√°rio
- [ ] Guia de configura√ß√£o
- [ ] Deploy em ambiente de homologa√ß√£o

---

### Sprint 5 (Futuro): Funcionalidades Avan√ßadas

**Melhorias Sugeridas:**
- [ ] Sistema de certifica√ß√µes adicionais
- [ ] Treinamentos espec√≠ficos por categoria
- [ ] Hist√≥rico detalhado de auditorias
- [ ] An√°lise de desempenho com IA
- [ ] Recomenda√ß√£o de treinamentos baseada em gaps
- [ ] Suporte a categorias SMIIC 2 (L-series)
- [ ] Dashboard de capacidade vs demanda
- [ ] Previs√£o de necessidade de auditores

---

## üìù PARTE 7: Checklist de Valida√ß√£o

### Funcionalidades Essenciais
- [ ] Auditor pode cadastrar suas forma√ß√µes acad√™micas
- [ ] Sistema gera automaticamente categorias que pode auditar
- [ ] Admin pode verificar forma√ß√µes acad√™micas
- [ ] Gestor v√™ auditores sugeridos ao atribuir processo
- [ ] Sistema valida se auditor √© qualificado antes de atribuir
- [ ] Sistema calcula score baseado em experi√™ncia e carga
- [ ] Auditores veem suas categorias permitidas
- [ ] Admin v√™ cobertura de auditores por categoria

### Valida√ß√µes Especiais
- [ ] Farm√°cia com grade alimentar funciona corretamente
- [ ] Auditores n√£o qualificados n√£o aparecem como sugeridos
- [ ] Score √© calculado corretamente
- [ ] Experi√™ncia √© atualizada ap√≥s auditorias

### Performance
- [ ] Sugest√£o de auditores retorna em < 500ms
- [ ] Listagem de categorias √© paginada
- [ ] Seeds n√£o travam o banco

---

## üéØ M√©tricas de Sucesso

1. **Cobertura:** 100% das categorias GSO t√™m pelo menos 2 auditores qualificados
2. **Precis√£o:** 90% das sugest√µes s√£o aceitas (n√£o precisam ser alteradas)
3. **Efici√™ncia:** Tempo m√©dio de atribui√ß√£o reduz em 50%
4. **Qualidade:** 0 atribui√ß√µes de auditores n√£o qualificados
5. **Satisfa√ß√£o:** Score de 4.5/5 em pesquisa com gestores e auditores

---

## üìö Refer√™ncias

- [An√°lise da Planilha](../ANALYSIS/AUDITOR-QUALIFICATION-MAPPING.md)
- [Schema Prisma Atual](../../backend/prisma/schema.prisma)
- [Classifica√ß√£o Industrial GSO 2055-2](../../backend/prisma/seeds/seed-industrial-classification.ts)
- Planilha Original: `docs/auditorias/classifica_auditor.xlsx`
